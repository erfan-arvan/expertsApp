<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Eligibility Checking For Experts</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 40px;
      background-color: #f4f4f4;
      color: #333;
    }

    .instructions, .email-box, .survey-box, .slots-box {
      background-color: #fff;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    button {
      padding: 10px 20px;
      margin-top: 20px;
      font-size: 16px;
      border: none;
      border-radius: 5px;
      background-color: #4CAF50;
      color: white;
      cursor: pointer;
    }

    button:hover {
      background-color: #45a049;
    }

    .day-card {
      background-color: #eaeaea;
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 8px;
    }

    .time-slot {
      display: inline-block;
      margin: 5px;
      padding: 10px 16px;
      border-radius: 6px;
      background-color: #ccc;
      cursor: pointer;
    }

    .time-slot.selected {
      background-color: #4CAF50;
      color: white;
      font-weight: bold;
    }

    .hidden {
      display: none;
    }

    .modal {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.5);
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background-color: white;
      padding: 30px;
      border-radius: 10px;
      max-width: 400px;
      text-align: center;
    }

    .input-field {
        width: 100%;
        padding: 10px 14px;
        font-size: 15px;
        border: 1px solid #ccc;
        border-radius: 6px;
        box-sizing: border-box;
        margin-top: 8px;
        margin-bottom: 16px;
        background-color: #fff;
        color: #333;
        transition: border-color 0.2s, box-shadow 0.2s;
        }

        .input-field:focus {
        border-color: #4CAF50;
        outline: none;
        box-shadow: 0 0 4px rgba(76, 175, 80, 0.4);
        }

        .input-field {
            width: 100%;
            padding: 12px 14px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 6px;
            margin-top: 10px;
            margin-bottom: 16px;
            background-color: #fff;
            color: #333;
            box-sizing: border-box;
            transition: border-color 0.2s, box-shadow 0.2s;
            }

            .input-field:focus {
            border-color: #4CAF50;
            outline: none;
            box-shadow: 0 0 4px rgba(76, 175, 80, 0.4);
            }

            .full-width-btn {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            border: none;
            border-radius: 6px;
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
            transition: background-color 0.2s;
            }

            .full-width-btn:hover {
            background-color: #45a049;
            }

            .modal.hidden {
                display: none !important;
            }

            .success-message {
                position: relative;
                background-color: #e6f9ec;
                color: #2e7d32;
                border: 1px solid #2e7d32;
                padding: 15px 20px;
                border-radius: 8px;
                margin-bottom: 20px;
                font-size: 16px;
                font-weight: 500;
                box-shadow: 0 2px 6px rgba(0,0,0,0.05);
                }

                .success-message .close-btn {
                position: absolute;
                top: 8px;
                right: 12px;
                background: none;
                border: none;
                color: #2e7d32;
                font-size: 18px;
                font-weight: bold;
                cursor: pointer;
                line-height: 1;
                margin: 0;
                }

                .success-message .close-btn:hover {
                color: #1b5e20;
                }

                .confirm-box, .final-box {
  background-color: #fff;
  padding: 20px;
  border-radius: 8px;
  margin-bottom: 20px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.confirm-box a {
  color: #4CAF50;
  margin-left: 10px;
  font-weight: bold;
  cursor: pointer;
  text-decoration: none;
}

.confirm-box a:hover {
  text-decoration: underline;
}

.final-box button {
  margin-top: 10px;
}

input.input-error {
  border: 2px solid red;
  background-color: #ffe6e6;
}

#warning-modal {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background-color: rgba(0,0,0,0.4);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

#warning-modal .modal-content {
  background-color: white;
  padding: 20px 30px;
  border-radius: 10px;
  text-align: center;
  max-width: 400px;
  box-shadow: 0 0 10px rgba(0,0,0,0.3);
}

@keyframes glowPulse {
        0% {
          box-shadow: 0 0 10px #4CAF50;
        }
        100% {
          box-shadow: 0 0 20px #4CAF50, 0 0 30px #4CAF50;
        }
      }

      #email {        animation: glowPulse 1.5s infinite alternate;
      }

      button:active {
        transform: scale(0.97);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) inset;
        }


            body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 40px;
      background-color: #f4f4f4;
      color: #333;
    }
    .instructions {
      background-color: #fff;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    button {
      padding: 12px 24px;
      font-size: 16px;
      border-radius: 6px;
      border: none;
      background-color: #4CAF50;
      color: white;
      cursor: pointer;
      box-shadow: 0 0 10px #4CAF50;
      animation: glowPulse 1.5s infinite alternate;
    }
    @keyframes glowPulse {
      0% { box-shadow: 0 0 10px #4CAF50; }
      100% { box-shadow: 0 0 20px #4CAF50, 0 0 30px #4CAF50; }
    }
    button:hover {
      background-color: #45a049;
    }
    a {
      color: #4CAF50;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }

  .steps-table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    font-size: 16px;
  }
  .steps-table td {
    padding: 12px;
    vertical-align: top;
  }
  .step-number {
    background-color: #f4c542;
    font-weight: bold;
    width: 40px;
    text-align: center;
    border-radius: 6px;
  }
  .step-desc {
    background-color: #fff7e6;
  }
  .step-time {
    background-color: #f4c542;
    text-align: center;
    font-weight: bold;
    border-radius: 6px;
    width: 80px;
  }

  .tooltip {
  position: relative;
  display: inline-block;
  cursor: help;
  border-bottom: 1px dotted #555;
  }

  .tooltip .tooltip-text {
    visibility: hidden;
    width: 260px;
    background-color: #333;
    color: #fff;
    text-align: left;
    padding: 8px 10px;
    border-radius: 6px;
    position: absolute;
    z-index: 1;
    bottom: 125%; /* Show above the word */
    left: 50%;
    transform: translateX(-50%);
    opacity: 0;
    transition: opacity 0.3s;
  }

  .tooltip:hover .tooltip-text {
    visibility: visible;
    opacity: 1;
  }

  .table-container {
    display: flex;
    justify-content: center;    /* center the table horizontally */
    margin: 20px auto;
  }

  .device-warning {
    display: flex;
    align-items: center;
    gap: 12px;
    background-color: #fff3cd;
    color: #856404;
    border-left: 6px solid #ffeeba;
    padding: 12px 16px;
    margin: 20px 0;
    border-radius: 6px;
    font-size: 16px;
  }

  .device-icon {
    font-size: 24px;
  }

  .deadline-box {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  background-color: #fff3f3;
  color: #a94442;
  border-left: 6px solid #f44336;
  padding: 14px 16px;
  margin: 20px 0;
  border-radius: 6px;
  font-size: 16px;
}

.deadline-icon {
  font-size: 28px;
  line-height: 1;
}

.deadline-date {
  color: #d32f2f;
  font-weight: bold;
}

.no-timer-note {
  background-color: #e8f5e9;
  color: #2e7d32;
  border-left: 5px solid #66bb6a;
  padding: 12px 16px;
  border-radius: 6px;
  margin-top: 10px;
  font-size: 15.5px;
  display: flex;
  align-items: flex-start;
  gap: 8px;
}

.study-notes {
  background-color: #fefefe;
  border-left: 5px solid #4CAF50;
  padding: 16px 20px;
  border-radius: 8px;
  margin: 30px 0;
  font-size: 15.5px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.note-item {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  margin-bottom: 12px;
}

.note-icon {
  font-size: 20px;
  line-height: 1.4;
}

.note-text {
  color: #333;
}


ul {
  flex: 1;
  padding-left: 20px;
}

.flex-container {
  display: flex;
  gap: 30px;
  align-items: flex-start;
  margin-top: 20px;
}

ul {
  flex: 1;
  padding-left: 20px;
}

.code-section {
  flex: 1;
}

.code-header {
  font-weight: bold;
  margin-bottom: 8px;
  font-size: 16px;
}

.code-box {
  background-color: #f4f4f4;
  border: 1px solid #ccc;
  padding: 15px;
  border-radius: 6px;
  font-family: "Courier New", Courier, monospace;
  white-space: pre-wrap;
  overflow-x: auto;
}

.flex-container {
  display: flex;
  gap: 40px;
  align-items: flex-start;
  margin-top: 20px;
  justify-content: space-between;
}
.left-section, .code-section {
  flex: 1;
  max-width: 48%;
}

.section-header {
  font-weight: 600;
  font-size: 18px;
  margin-bottom: 10px;
}

.code-box code {
  display: block;
  line-height: 1.5;
  white-space: pre;
  padding-left: 10px;
}

.code-box span {
  cursor: help;
  text-decoration: underline dotted;
}

/* Layout */
.abstraction-container {
  max-width: 1000px;
  margin: 0 auto;
  padding: 20px;
}

/* Toggle Menu */
.abstraction-toggle {
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
}

.abstraction-toggle button {
  padding: 10px 20px;
  font-weight: bold;
  border: 1px solid #ccc;
  background-color: #f0f0f0;
  border-radius: 6px;
  cursor: pointer;
  transition: background-color 0.2s;
}

.abstraction-toggle button.active {
  background-color: #d6eaff;
  border-color: #007bff;
  color: #007bff;
}

/* Hide sections by default */
.abstraction-level {
  display: none;
}

.abstraction-level.active {
  display: block;
}

/* Shared styles */
.section-header {
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 12px;
}

.code-box {
  background-color: #f9f9f9;
  border: 1px solid #ccc;
  padding: 15px;
  font-family: "Courier New", Courier, monospace;
  border-radius: 6px;
  white-space: pre-wrap;
  margin-top: 15px;
}

.toggle-btn {
  padding: 12px 24px;
  font-size: 16px;
  border-radius: 6px;
  border: 1px solid #ccc;
  background-color: #f0f0f0;
  color: #333;
  cursor: pointer;
  box-shadow: none;
  animation: none;
  transition: background-color 0.2s ease;
}

.toggle-btn.active {
  background-color: #d6eaff;
  border-color: #007bff;
  color: #007bff;
}

/* Shared container layout */
.abstraction-container {
  max-width: 1000px;
  margin: 0 auto;
  padding: 20px;
}

/* Toggle buttons */
.abstraction-toggle {
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
}
.toggle-btn {
  padding: 12px 24px;
  font-size: 16px;
  border-radius: 6px;
  border: 1px solid #ccc;
  background-color: #f0f0f0;
  color: #333;
  cursor: pointer;
  box-shadow: none;
  animation: none;
}
.toggle-btn.active {
  background-color: #d6eaff;
  border-color: #007bff;
  color: #007bff;
}

/* Levels */
.abstraction-level {
  display: none;
}
.abstraction-level.active {
  display: block;
}

/* Color distinction */
.summary-text {
  color: #c01313; /* dark gray for shared content */
}
.detailed-only {
  color: #003366; /* dark blue for additional detail */
}

/* Section headers */
.section-header {
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 12px;
}

/* Code box */
.code-box {
  background-color: #f9f9f9;
  border: 1px solid #ccc;
  padding: 15px;
  font-family: "Courier New", Courier, monospace;
  border-radius: 6px;
  white-space: pre-wrap;
  margin-top: 15px;
}


/* Container box */
.abstraction-box {
  width: 100%;
  max-width: 1000px;
  margin: 0 auto;
  border: 1px solid #ccc;
  border-radius: 6px;
  overflow: hidden;
  font-family: sans-serif;
}

/* Top toggle strip using divs */
.abstraction-toggle {
  display: flex;
  width: 100%;
  height: 50px;
}

.abstraction-tab {
  flex: 1;
  text-align: center;
  line-height: 50px;
  font-size: 16px;
  font-weight: bold;
  background-color: #eee;
  color: #333;
  cursor: pointer;
  user-select: none;
  transition: background-color 0.2s ease, color 0.2s ease;
}

.abstraction-tab.active {
  background-color: #d6eaff;
  color: #007bff;
}

/* Two-column content layout */
.abstraction-content {
  display: flex;
  flex-direction: row;
}

.abstraction-column {
  flex: 1;
  padding: 20px;
  box-sizing: border-box;
  border-top: 1px solid #ccc;
}

.code-column {
  background-color: #f9f9f9;
  font-family: "Courier New", monospace;
  white-space: pre-wrap;
  font-size: 14px;
  line-height: 1.5;
}

.abstraction-box {
  width: 100%;
  max-width: 1000px;
  margin: 0 auto;
  border: 1px solid #ccc;
  border-radius: 6px;
  overflow: hidden;
  font-family: sans-serif;
}

/* Toggle wrapper */
.abstraction-switch {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 60px;
  background-color: #f2f2f2;
  border-bottom: 1px solid #ccc;
}

/* Label next to switch */
.abstraction-switch label {
  font-size: 16px;
  font-weight: bold;
  margin-right: 12px;
}

/* Custom switch styling */
.switch {
  position: relative;
  display: inline-block;
  width: 70px;
  height: 34px;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

/* Slider base */
.slider {
  position: absolute;
  cursor: pointer;
  top: 0; left: 0; right: 0; bottom: 0;
  background-color: #ccc;
  border-radius: 34px;
  transition: 0.4s;
}

/* Slider knob */
.slider:before {
  position: absolute;
  content: "";
  height: 26px; width: 26px;
  left: 4px; bottom: 4px;
  background-color: white;
  border-radius: 50%;
  transition: 0.4s;
}

/* Checked state */
input:checked + .slider {
  background-color: #4CAF50;
}
input:checked + .slider:before {
  transform: translateX(36px);
}

/* Wrapper to allow stacking/fading */
.abstraction-box {
  position: relative;
}

.abstraction-content {
  display: none;
  opacity: 0;
  transition: opacity 0.4s ease;
  flex-direction: row;
  animation: none;
  position: relative; /* stays in document flow */
  width: 100%;
}

.abstraction-content.active {
  display: flex;
  opacity: 1;
  animation: fadeIn 0.4s ease;
}


</style>
</head>
<body>


<div class="instructions">
  <h3>Hello there!</h3>
  <p>You have been invited to share your expertise to help us conduct research aimed at making it easier for junior engineers to understand code!</p>

  <h3>Cut to the chase:</h3>

<div class="abstraction-box">
  <!-- Toggle strip with two glued tabs -->
  <!-- <div class="abstraction-toggle" style="margin: 0!important;">
    <div id="summaryTab" class="abstraction-tab active" onclick="switchView('summary')">Summary</div>
    <div id="detailedTab" class="abstraction-tab" onclick="switchView('detailed')">Detailed</div>
  </div> -->

  <div class="abstraction-switch">
    <label for="toggleSwitch">Detailed View:</label>
    <label class="switch">
      <input type="checkbox" id="toggleSwitch" onchange="toggleView(this.checked)">
      <span class="slider"></span>
    </label>
  </div>

  <!-- Summary view -->
  <div id="summaryView" class="abstraction-content active">
    <div class="abstraction-column text-column">
    <div class="section-header">Summary Overview</div>
    <ul class=" summary-text">
      <li>You will participate in up to three rounds of evaluating 8 Java code snippets.</li>
      <li>In each round, you will answer some questions and provide a ranking of the snippets based on how easy they are to understand.</li>
      <li>After each round, we will check for consensus among experts. If a consensus is reached, the study ends early.</li>
      <li>If consensus is not reached after the third round, we will apply a statistical aggregation to determine a final ranking.</li>
    </ul>    </div>
    <div class="abstraction-column code-column">
<code>BEGIN STUDY

FOR round FROM 1 TO 3
    answer_questions_and_rank_snippets()
    IF consensus_reached()
        BREAK
END FOR

IF NOT consensus_reached()
    apply_statistical_aggregation()

END STUDY</code>
    </div>
  </div>

  <!-- Detailed view -->
  <div id="detailedView" class="abstraction-content">
    <div class="abstraction-column text-column">
<div class="section-header">Detailed Overview</div>
<ul>
  <li class="summary-text">You will participate in up to three rounds of evaluating 8 Java code snippets.</li>
  <li class="summary-text">In each round, you will answer some questions and provide a ranking of the snippets based on how easy they are to understand.</li>
    <li class="detailed-only"><strong>Round 1:</strong>
    <ul>
      <li class="detailed-only"><strong>Phase 1:</strong> Review each code snippet and write a short summary. Also provide your assessment of how easy or difficult it is to understand.</li>
      <li class="detailed-only"><strong>Phase 2:</strong> Rank all 8 snippets from easiest to hardest to understand. You may group snippets together if you feel they are similarly understandable.</li>
      <li class="detailed-only"><strong>Phase 3:</strong> Explain your reasoning behind your ranking and the groups you formed.</li>
    </ul>
  </li>

  <li class="detailed-only"><strong>Rounds 2 and 3:</strong>
    <ul>
      <li class="detailed-only"><strong>Phase 1:</strong> Review your own and other experts’ summaries and assessments from the previous round.</li>
      <li class="detailed-only"><strong>Phase 2:</strong> Review your own and other experts’ rankings and the reasoning provided for those rankings.</li>
      <li class="detailed-only"><strong>Phase 3:</strong> Reflect on major disagreements between experts, as identified by the research team. You’ll be asked a few questions to share your thoughts.</li>
      <li class="detailed-only"><strong>Phase 4:</strong> Update your ranking of the code snippets, if you wish.</li>
      <li class="detailed-only"><strong>Phase 5:</strong> Explain your reasoning behind any changes you made to your ranking or groupings.</li>
    </ul>
  </li>
  <li class="summary-text">After each round, we will check for consensus among experts. If a consensus is reached, the study ends early.</li>
  <li class="summary-text">If consensus is not reached after the third round, we will apply a statistical aggregation to determine a final ranking.</li>

</ul>

    </div>
    <div class="abstraction-column code-column">
<code>BEGIN STUDY

FOR round FROM 1 TO 3

    IF round == 1
        read_and_understand_code_snippets()
        answer_questions_about_snippets()
        rank_snippets()
        provide_reasoning_for_ranking()

    IF round > 1
        review_other_experts_responses()
        reflect_on_expert_disagreements()
        update_snippet_ranking()
        provide_reasoning_for_updated_ranking()

    answer_additional_questions()

    IF consensus_reached()
        BREAK
END FOR

IF NOT consensus_reached()
    apply_statistical_aggregation()

END STUDY</code>
    </div>
  </div>
</div>
  
<div class="abstraction-container">
<div class="abstraction-toggle">
  <button id="summaryBtn" class="toggle-btn active" onclick="showLevel('summary')">Summary</button>
  <button id="detailedBtn" class="toggle-btn" onclick="showLevel('detailed')">Detailed</button>
</div>


  <!-- Summary Level -->
  <div id="summary" class="abstraction-level active">
    <div class="section-header">Summary Overview</div>
    <ul class=" summary-text">
      <li>You will participate in up to three rounds of evaluating 8 Java code snippets.</li>
      <li>In each round, you will answer some questions and provide a ranking of the snippets based on how easy they are to understand.</li>
      <li>After each round, we will check for consensus among experts. If a consensus is reached, the study ends early.</li>
      <li>If consensus is not reached after the third round, we will apply a statistical aggregation to determine a final ranking.</li>
    </ul>

    <div class="code-box">
<pre><code>BEGIN STUDY

FOR round FROM 1 TO 3
    answer_questions_and_rank_snippets()
    IF consensus_reached()
        BREAK
END FOR

IF NOT consensus_reached()
    apply_statistical_aggregation()

END STUDY</code></pre>
    </div>
  </div>

  <!-- Detailed Level -->
  <div id="detailed" class="abstraction-level">
<div class="section-header">Detailed Overview</div>
<ul>
  <li class="summary-text">You will participate in up to three rounds of evaluating 8 Java code snippets.</li>
  <li class="summary-text">In each round, you will answer some questions and provide a ranking of the snippets based on how easy they are to understand.</li>
    <li class="detailed-only"><strong>Round 1:</strong>
    <ul>
      <li class="detailed-only"><strong>Phase 1:</strong> Review each code snippet and write a short summary. Also provide your assessment of how easy or difficult it is to understand.</li>
      <li class="detailed-only"><strong>Phase 2:</strong> Rank all 8 snippets from easiest to hardest to understand. You may group snippets together if you feel they are similarly understandable.</li>
      <li class="detailed-only"><strong>Phase 3:</strong> Explain your reasoning behind your ranking and the groups you formed.</li>
    </ul>
  </li>

  <li class="detailed-only"><strong>Rounds 2 and 3:</strong>
    <ul>
      <li class="detailed-only"><strong>Phase 1:</strong> Review your own and other experts’ summaries and assessments from the previous round.</li>
      <li class="detailed-only"><strong>Phase 2:</strong> Review your own and other experts’ rankings and the reasoning provided for those rankings.</li>
      <li class="detailed-only"><strong>Phase 3:</strong> Reflect on major disagreements between experts, as identified by the research team. You’ll be asked a few questions to share your thoughts.</li>
      <li class="detailed-only"><strong>Phase 4:</strong> Update your ranking of the code snippets, if you wish.</li>
      <li class="detailed-only"><strong>Phase 5:</strong> Explain your reasoning behind any changes you made to your ranking or groupings.</li>
    </ul>
  </li>
  <li class="summary-text">After each round, we will check for consensus among experts. If a consensus is reached, the study ends early.</li>
  <li class="summary-text">If consensus is not reached after the third round, we will apply a statistical aggregation to determine a final ranking.</li>

</ul>



    <div class="code-box">
<pre><code>BEGIN STUDY

FOR round FROM 1 TO 3

    IF round == 1
        read_and_understand_code_snippets()
        answer_questions_about_snippets()
        rank_snippets()
        provide_reasoning_for_ranking()

    IF round > 1
        review_other_experts_responses()
        reflect_on_expert_disagreements()
        update_snippet_ranking()
        provide_reasoning_for_updated_ranking()

    answer_additional_questions()

    IF consensus_reached()
        BREAK
END FOR

IF NOT consensus_reached()
    apply_statistical_aggregation()

END STUDY</code></pre>
    </div>
  </div>
</div>



<div class="flex-container">
  <div class="left-section">
    <div class="section-header">Study Overview</div>
    <ul>
      <li>This study involves five experts like yourself.</li>
      <li>Our goal is to reach an expert-determined ranking of the comprehensibility of 8 Java code snippets.</li>
      <li>In each round (1 to 3 total), you’ll answer questions about these snippets and rank them. Each round is estimated to take less than an hour of your time.</li>
      <li>Rounds will continue until consensus is reached, or we reach round 3.</li>
      <li>If the experts do not reach a consensus by round 3, we will combine all submitted rankings using a statistical method to generate a single expert-informed ranking.</li>
      <li>The entire study takes place online through our website. You will not have direct contact with other experts. The research team will receive your responses, and any responses shared with other participants will be anonymized.</li>
      <li>We know we cannot fully compensate your valuable time and expertise with our limited research budget. As a token of appreciation, you will receive a $50 Amazon gift card.</li>
    </ul>
  </div>

  <div class="code-section">
    <div class="code-header">Abstract Study Workflow</div>
    <div class="code-box"><code>
BEGIN STUDY

FOR round FROM 1 TO 3

    IF round == 1
        read_and_understand_code_snippets()
        answer_questions_about_snippets()
        rank_snippets()
        provide_reasoning_for_ranking()

    IF round > 1
        review_other_experts_responses()
        reflect_on_expert_disagreements()
        update_snippet_ranking()
        provide_reasoning_for_updated_ranking()

    answer_additional_questions()

    // research_team_reviews_responses()

    IF consensus_reached()
        BREAK
END FOR

//IF NOT consensus_reached()
//    research_team_applys_statistical_aggregation()

END STUDY
</code></div>
  </div>
</div>


<details style="margin-bottom: 20px;">
  <summary style="font-weight: bold; font-size: 16px; cursor: pointer; color: #0066cc; text-decoration: underline;">
    See more details about the study
  </summary>

  <div style="margin-top: 15px;">
    <h2>Study Goal and Overview</h2>

    <p>
      The goal of this study is to develop a ranking of 
      <span class="tooltip">code snippets
        <span class="tooltip-text">Self-contained Java methods from real-world open-source projects.</span>
      </span> 
      based on the difficulty that software developers have in understanding them. This ranking will be used in future research on code comprehension.
    </p>

    <p>
      To create this ranking, this study will use the 
      <a href="https://en.wikipedia.org/wiki/Delphi_method" target="_blank">Delphi method</a>. 
      Multiple software developers (including you) will first rank a set of code snippets independently. 
      Then, we will provide anonymized feedback summarizing the rankings from other participants to guide a consensus-based final ranking.
      We estimate that one or two rounds of ranking will be sufficient, depending on the level of agreement among participants.
    </p>

    <h2>What You'll Do</h2>
    <p>
      In the <strong>first</strong> round of the study, you will review <strong>8 code snippets</strong> and provide your ranking along with brief explanations. 
      The estimated time to complete the first round is approximately <strong>60 minutes</strong>.
    </p>
    <p>
      If a second round is needed, you will be invited to participate and it should take you less than <strong>60 minutes</strong>.
      For details, see the <a href="#post-submission">What Happens After You Complete the First Round</a> section below.
    </p>

    <p>The first round is divided into three phases:</p>

    <div class="table-container">
      <table class="steps-table">
        <tr>
          <th style="width: 100px;">Phase</th>
          <th>Description</th>
          <th style="width: 100px;">Time</th>
        </tr>
        <tr>
          <td class="step-number">Phase 1</td>
          <td class="step-desc">
            Review each code snippet and provide a short summary, along with your assessment of how easy or difficult it is to understand.
          </td>
          <td class="step-time">35 mins</td>
        </tr>
        <tr>
          <td class="step-number">Phase 2</td>
          <td class="step-desc">
            Rank the snippets from easiest to hardest to understand, grouping similar snippets together.
          </td>
          <td class="step-time">10 mins</td>
        </tr>
        <tr>
          <td class="step-number">Phase 3</td>
          <td class="step-desc">
            Explain your reasoning behind the ranking and the groupings.
          </td>
          <td class="step-time">10 mins</td>
        </tr>
        <tr>
          <td class="step-number">Submission</td>
          <td class="step-desc">
            Review and submit your answers. You may revise and resubmit them at any time.
          </td>
          <td class="step-time">5 mins</td>
        </tr>
      </table>
    </div>

    <!-- <div class="study-notes">
      <div class="note-item">
        <span class="note-icon">⏱️</span>
        <span class="note-text">
          <strong>Timing:</strong> The times listed above are estimates. 
          There are no strict time limits: you may take as much time as needed for each phase.
        </span>
      </div>
      <div class="note-item">
        <span class="note-icon">📅</span>
        <span class="note-text">
          <strong>Submission Deadline:</strong> Please try to complete the first round by 
          <span style="color: #d32f2f; font-weight: bold;">May 20, 2025</span> (we are flexible with this deadline).
        </span>
      </div>
      <div class="note-item">
        <span class="note-icon">💻</span>
        <span class="note-text">
          <strong>Device Requirement:</strong> Please use a <strong>desktop</strong> web browser (<strong>Chrome preferred</strong>) to complete this study.
        </span>
      </div>
    </div> -->

    <details style="margin-top: 20px;" id="post-submission">
      <summary style="font-weight: bold; font-size: 16px; cursor: pointer;">
        What Happens After You Complete the First Round (click to expand)
      </summary>
      <ul style="margin-top: 10px;">
        <li>We will analyze the participant rankings.</li>
        <li>If unanimous agreement is reached, the study will conclude.</li>
        <li>If not, we will initiate a second round and share anonymized feedback based on others' rankings.</li>
        <li>You will have the opportunity to revise and submit a new ranking.</li>
        <li>If consensus is still not reached, we will use statistical aggregation to finalize the results.</li>
      </ul>
    </details>

    <h2>Important Definitions</h2>
    <div style="background: #f0f8ff; border-left: 4px solid #4CAF50; padding: 15px; margin-bottom: 20px;">
      <p><strong>Code Comprehensibility</strong>: the difficulty a software developer experiences when trying to understand a code snippet. 
        This is influenced by the clarity of its structure, naming, and logic.
      </p>
      <p><strong>Code Snippet</strong>: A self-contained Java method selected from a real-world open-source software project. 
        All 8 snippets in this study are independent of one another and were carefully selected.</p>
    </div>
  </div>
</details>

</div>  


      
<div class="email-box" id="email-box">
    <h2>Check Your Eligibility</h2>
    <input type="email" id="email" placeholder="Enter your email" class="input-field">
    <button onclick="startSurvey()" class="full-width-btn">Check My Eligibility</button>
</div>

<div class="survey-box hidden" id="survey-box">
  <h3>Eligibility Questions</h3>
  <div id="question-container"></div>
  <div style="margin-top: 20px;">
    <button onclick="prevQuestion()" id="prevBtn" disabled>Previous</button>
    <button onclick="nextQuestion()" id="nextBtn">Next</button>
  </div>
</div>

<div id="eligibility-success" class="success-message hidden">
    <button class="close-btn" onclick="document.getElementById('eligibility-success').classList.add('hidden')">✕</button>
    🎉 You're eligible to participate in the study! Please select all time slots that work for you
  </div>
  
  
  
<div class="slots-box hidden" id="slots-box">
    <h3>Select All Your Available Time Slots</h3>
    <div class="day-card">
    <h4>Monday, June 10</h4>
    <div>
      <div class="time-slot" onclick="selectSlot(this)">10:00 AM</div>
      <div class="time-slot" onclick="selectSlot(this)">1:00 PM</div>
      <div class="time-slot" onclick="selectSlot(this)">4:00 PM</div>
    </div>
  </div>
  <div class="day-card">
    <h4>Tuesday, June 11</h4>
    <div>
      <div class="time-slot" onclick="selectSlot(this)">9:00 AM</div>
      <div class="time-slot" onclick="selectSlot(this)">12:00 PM</div>
      <div class="time-slot" onclick="selectSlot(this)">3:00 PM</div>
    </div>
  </div>

  <button onclick="finalizeMultiSlotSelection()">Next</button>

  <p style="margin-top: 1em;">
    <a href="#" onclick="toggleCustomTimeBox(); return false;">None of these work for you?</a>
  </p>
  
  <div id="custom-time-box" style="display: none; margin-top: 1em; border: 1px solid #ccc; padding: 1em; border-radius: 8px;">
    <p><strong>📅 Please select all of your free times:</strong></p>
    
    <div class="day-card">
      <h4>Wednesday, June 12</h4>
      <div>
        <div class="time-slot" onclick="toggleCustomSlot(this)">10:00 AM</div>
        <div class="time-slot" onclick="toggleCustomSlot(this)">1:00 PM</div>
        <div class="time-slot" onclick="toggleCustomSlot(this)">4:00 PM</div>
      </div>
    </div>
  
    <div class="day-card">
      <h4>Thursday, June 13</h4>
      <div>
        <div class="time-slot" onclick="toggleCustomSlot(this)">9:00 AM</div>
        <div class="time-slot" onclick="toggleCustomSlot(this)">12:00 PM</div>
        <div class="time-slot" onclick="toggleCustomSlot(this)">3:00 PM</div>
      </div>
    </div>
  
    <button onclick="reviewCustomTime()">Next</button>
  </div>
  
  
</div>

<!-- Confirmation Section -->
<div class="confirm-box hidden" id="confirm-box">
    <p><strong>You selected:</strong> <span id="selected-slot-info"></span>
      <a href="#" onclick="changeSlot()">Change date</a>
    </p>
    <label style="display: block; margin: 15px 0;">
      <input type="checkbox" id="notify-checkbox" checked>
      I want to receive notifications about this session through my email "<span id="notify-email"></span>"
    </label>
    <button onclick="finalizeRegistration()">Finalize My Registration</button>
  </div>
  
<!-- Final Success Section -->
<div class="final-box hidden" id="final-box">
    <h3>✅ Registration Received!</h3>
    <p>Thank you! We'll reach out to you soon to confirm the final session time and share the exact room location. It will be in one of the rooms at <strong>GITC, NJIT</strong>.</p>
    <p><strong>Selected availability:</strong> <span id="confirmed-session"></span></p>
    <!-- <p>You can add a placeholder to your Google Calendar for now:</p>
    <button onclick="addToGoogleCalendar()">📅 Add to Google Calendar</button> -->
</div>
  

  <div class="final-box hidden" id="final-box-custom">
    <h3>✅ Submitted!</h3>
    <p>Thank you! Your submission has been received. <strong>We’ll contact you soon to schedule a time.</strong></p>
    <p>The exact room location will be shared in a separate follow-up—it will be in one of the rooms at <strong>GITC, NJIT</strong>.</p>
  </div>

  <div class="slots-box" id="final-confirmation-panel" style="display: none;">
    <p id="final-summary"></p>
    <a href="#" onclick="changeSlotCustom()">Change date</a>
    <button onclick="submitPendingRegistration()">Submit</button>
  </div>
  
  

<div class="modal hidden" id="ineligible-modal">
  <div class="modal-content">
    <h3>Not Eligible</h3>
    <p>Unfortunately, you are not eligible to participate in this study. Thank you for your interest.</p>
    <button onclick="document.getElementById('ineligible-modal').classList.add('hidden')">Close</button>
  </div>
</div>

<div class="modal hidden" id="warning-modal">
    <div class="modal-content">
      <p id="warning-message">Placeholder warning text.</p>
      <button onclick="closeWarningModal()">Close</button>
    </div>
</div>
  

<script>
const questions = [
{
  text: "Where are you studying?",
  options: [
    { label: "NJIT" },
    { label: "College of William & Mary" },
    { label: "Another university or college", ineligible: true }
  ]
}
,{
    text: "what's your class standing?",
    options: [
        { label: "Freshman" },
        { label: "Sophomore" },
        { label: "Junior" },
        { label: "Senior" },
        { label: "Graduate student", ineligible: true }
    ]
    },
  {
    text: "What is your age?",
    options: [
      { label: "Under 18", ineligible: true },
      { label: "18–20" }, { label: "21–24" }, { label: "25–30" },
      { label: "31–40" }, { label: "Over 40" }
    ]
  },
  {
    text: "Have you taken CS 288: Intensive Programming?",
    options: [
      { label: "I completed the course with a grade of C or better" },
      { label: "I am currently enrolled in the course" },
      {label: "I have taken the course but did not receive a grade of C or better, and I am not currently enrolled", ineligible:true},
      { label: "I have not taken CS 288", ineligible: true }
    ]
  },
  {
  text: "Have you been diagnosed with a reading or learning disability, or any condition that affects your ability to read or understand code or instructions??",
  options: [
    { label: "Yes, I have been diagnosed with such a condition", ineligible: true },
    { label: "No, I have not been diagnosed with any such condition" }
  ]
},
  {
    text: "How comfortable are you with reading English-language text?",
    options: [
      { label: "Not comfortable", ineligible: true },
      { label: "Slightly comfortable" },
      { label: "Moderately comfortable" },
      { label: "Very comfortable" },
      { label: "Native speaker / fluent" }
    ]
  },
  {
    text: "Do you have access to a personal laptop you can bring to the session?",
    options: [
      { label: "Yes" },
      { label: "No", ineligible: true }
    ]
  },
  {
    text: "How many years have you been programming in Java (through coursework, personal projects, or other experiences)?",
    options: [
      { label: "I am not familiar with Java", ineligible: true },
      { label: "Less than 1 year" },
      { label: "1–2 years" },
      { label: "3–4 years" },
      { label: "5+ years" },
      { label: "Prefer not to say", ineligible: true }
    ]
  }
];

let currentQuestion = 0;
let answers = [];

function startSurvey() {
  
  const emailInput = document.getElementById('email');
  const email = emailInput.value.trim().toLowerCase();


  // Remove any prior error indication
  emailInput.classList.remove("input-error");

  const isValidEmail = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
  if (!isValidEmail) {
    emailInput.classList.add("input-error");
    showWarningModal("Please enter a valid email address.");
    emailInput.focus();
    return;
  }

//   if (!email.endsWith("@njit.edu")) {
//     emailInput.classList.add("input-error");
//     showWarningModal("Please use your NJIT email address (e.g., yourname@njit.edu).");
//     emailInput.focus();
//     return;
//   }

  localStorage.setItem("student_email", email);
  document.getElementById('email-box').classList.add('hidden');
  document.getElementById('survey-box').classList.remove('hidden');
  hideStudyInfoIfVisible();
  showQuestion();
}



function showQuestion() {
  const q = questions[currentQuestion];
  const container = document.getElementById('question-container');
  let html = `<p><strong>${q.text}</strong></p>`;
  q.options.forEach((opt, i) => {
    const checked = answers[currentQuestion] === i ? 'checked' : '';
    html += `<label><input type="radio" name="q${currentQuestion}" value="${i}" ${checked}> ${opt.label}</label><br>`;
  });
  container.innerHTML = html;

  document.getElementById('prevBtn').disabled = currentQuestion === 0;
  document.getElementById('nextBtn').innerText = currentQuestion === questions.length - 1 ? 'Check Eligibility' : 'Next';
}

function nextQuestion() {
  const selected = document.querySelector(`input[name="q${currentQuestion}"]:checked`);
  if (!selected) return alert("Please select an option.");
  answers[currentQuestion] = parseInt(selected.value);
  if (currentQuestion === questions.length - 1) {
    checkEligibility();
  } else {
    currentQuestion++;
    showQuestion();
  }
}

function prevQuestion() {
  if (currentQuestion > 0) currentQuestion--;
  showQuestion();
}

function checkEligibility() {
  for (let i = 0; i < answers.length; i++) {
    const opt = questions[i].options[answers[i]];
    if (opt.ineligible) {
      document.getElementById('survey-box').classList.add('hidden');
      document.getElementById('ineligible-modal').classList.remove('hidden');
      return;
    }
  }
  document.getElementById('survey-box').classList.add('hidden');
  document.getElementById('eligibility-success').classList.remove('hidden');
  document.getElementById('slots-box').classList.remove('hidden');
}


// function selectSlot(el) {
//   el.classList.toggle('selected');

//   // Gather all selected slots
//   const selectedEls = document.querySelectorAll('.slots-box .time-slot.selected');
//   if (selectedEls.length === 0) return;

//   const selectedSlots = Array.from(selectedEls).map(el => {
//     const dayText = el.closest('.day-card').querySelector('h4').innerText;
//     return `${dayText} at ${el.innerText}`;
//   });

//   localStorage.setItem("selected_slot", selectedSlots.join(", "));

//   // Update confirmation UI
//   document.getElementById('eligibility-success').classList.add('hidden');
//   document.getElementById('slots-box').classList.add('hidden');
//   document.getElementById('selected-slot-info').innerText = selectedSlots.join(", ");
//   document.getElementById('notify-email').innerText = localStorage.getItem("student_email");
//   document.getElementById('confirm-box').classList.remove('hidden');
// }


function finalizeRegistration() {
  const notify = document.getElementById('notify-checkbox').checked;
  localStorage.setItem("notify_opt_in", notify);

  // Call registration submit before showing final confirmation
  submitRegistrationData().then(success => {
    if (success) {
      document.getElementById('confirm-box').classList.add('hidden');
      document.getElementById('final-box').classList.remove('hidden');
      const selectedSlot = localStorage.getItem("selected_slot");
        const sessionText = `${selectedSlot}`;
        document.getElementById("confirmed-session").innerText = sessionText;
    } else {
      alert("❌ Something went wrong while registering. Please try again or contact the research team.");
    }
  });
}


function addToGoogleCalendar() {
  const selected = localStorage.getItem("selected_slot"); // e.g., "Monday, June 10 at 10:00 AM"
  if (!selected) return alert("No time slot selected.");

  const [dayText, timeText] = selected.split(" at ");
  const dateMap = {
    "Monday, June 10": "20250610",
    "Tuesday, June 11": "20250611"
  };
  const baseDate = dateMap[dayText.trim()];
  if (!baseDate) return alert("Invalid date.");

  // Parse time (e.g., "1:00 PM")
  const [hourPart, minutePartWithSuffix] = timeText.trim().split(":");
  const minutes = minutePartWithSuffix.slice(0, 2);
  const suffix = minutePartWithSuffix.trim().slice(-2); // AM or PM
  let hour = parseInt(hourPart);

  if (suffix === "PM" && hour !== 12) hour += 12;
  if (suffix === "AM" && hour === 12) hour = 0;

  const startHourStr = hour.toString().padStart(2, '0');
  const startMinuteStr = minutes.padStart(2, '0');
  const startTime = `${baseDate}T${startHourStr}${startMinuteStr}00`;

  // Add 90 minutes for end time
  const startDate = new Date(`${baseDate.slice(0, 4)}-${baseDate.slice(4, 6)}-${baseDate.slice(6)}T${startHourStr}:${startMinuteStr}:00`);
  const endDate = new Date(startDate.getTime() + 90 * 60 * 1000); // 90 min in ms
  const endTime = `${endDate.getFullYear()}${(endDate.getMonth() + 1).toString().padStart(2, '0')}${endDate.getDate().toString().padStart(2, '0')}T${endDate.getHours().toString().padStart(2, '0')}${endDate.getMinutes().toString().padStart(2, '0')}00`;

  // Build Google Calendar URL
  const title = encodeURIComponent("Code Comprehension Session");
  const location = encodeURIComponent("To be declared");
  const details = encodeURIComponent("You registered for a code comprehension session. We'll contact you with the exact room. It will be in GITC at NJIT.");
  const calendarUrl = `https://www.google.com/calendar/render?action=TEMPLATE&text=${title}&dates=${startTime}/${endTime}&details=${details}&location=${location}`;

  window.open(calendarUrl, "_blank");
}


function toggleInfo(btn) {
  const info = document.getElementById('study-info');
  if (info.classList.contains('hidden')) {
    info.classList.remove('hidden');
    btn.innerText = "Hide";
  } else {
    info.classList.add('hidden');
    btn.innerText = "Show";
  }
}

function toggleStudyInfo() {
  const info = document.getElementById('study-info');
  const button = document.getElementById('toggleInfoButton');

  if (info.classList.contains('hidden')) {
    info.classList.remove('hidden');
    button.innerText = "Hide";
  } else {
    info.classList.add('hidden');
    button.innerText = "Show";
  }
}

function hideStudyInfoIfVisible() {
  const info = document.getElementById('study-info');
  const button = document.getElementById('toggleInfoButton');

  if (!info.classList.contains('hidden')) {
    info.classList.add('hidden');
    if (button) button.innerText = "Show";
  }
}



function submitRegistrationData() {
  const email = localStorage.getItem("student_email") || "unknown";
  const notify = localStorage.getItem("notify_opt_in") === "true";
  const selectedSlot = localStorage.getItem("selected_slot") || "unspecified";

  const eligibilityResponses = questions.map((q, index) => {
    const selectedIndex = answers[index];
    return {
      question: q.text,
      selectedOption: q.options[selectedIndex]?.label || "No answer"
    };
  });

  const payload = {
    email: email,
    notify: notify,
    selectedSlot: selectedSlot,
    eligibilityResponses: eligibilityResponses,
    submitted: true,
    event: "availability" // or "cancel" or "modify"
    };


  return fetch("https://codecomprehensibility.site/register_student", {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify(payload)
  })
  .then(res => res.ok)
  .catch(err => {
    console.error("❌ Network error:", err);
    return false;
  });
}

function showWarningModal(message) {
  document.getElementById("warning-message").textContent = message;
  document.getElementById("warning-modal").classList.remove("hidden");
}

function closeWarningModal() {
  document.getElementById("warning-modal").classList.add("hidden");
}

document.getElementById('email').addEventListener('input', function () {
  const value = this.value.trim().toLowerCase();
  const isValidEmail = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value);

  // If the input is now a valid email OR ends with '@njit.edu', remove error styling
  if (isValidEmail) {
    this.classList.remove('input-error');
  }
});


function changeSlot() {
  // Hide confirmation section and show time slot selection again
  document.getElementById('confirm-box').classList.add('hidden');
  document.getElementById('slots-box').classList.remove('hidden');
  document.getElementById('final-confirmation-panel').style.display = 'none';

}

function changeSlotCustom() {
  // Hide confirmation section and show time slot selection again
  document.getElementById('confirm-box').classList.add('hidden');
  document.getElementById('slots-box').classList.remove('hidden');
  document.getElementById('final-confirmation-panel').style.display = 'none';
  toggleCustomTimeBox();

}

</script>

<script>
function toggleCustomTimeBox() {
  const box = document.getElementById('custom-time-box');
  box.style.display = (box.style.display === 'none') ? 'block' : 'none';
}

function reviewCustomTime() {
  const selected = Array.from(document.querySelectorAll('#custom-time-box .time-slot.selected'))
    .map(el => {
      const day = el.closest('.day-card').querySelector('h4').innerText;
      return `${day} at ${el.innerText}`;
    });

  if (selected.length === 0) {
    alert("Please select at least one time slot.");
    return;
  }

  window.customEventData = {
    event: "pending",
    availabilityNote: selected
  };

  document.getElementById('eligibility-success').classList.add('hidden');

  goToFinalStepWithPendingEvent();
}


function goToFinalStepWithPendingEvent() {
  const selectedTimes = Array.from(document.querySelectorAll('#custom-time-box .time-slot.selected'))
    .map(slot => {
      const day = slot.closest('.day-card').querySelector('h4').innerText;
      return `${day} at ${slot.innerText.trim()}`;
    });

  if (selectedTimes.length === 0) {
    alert("Please select at least one available time.");
    return;
  }

  window.customEventData = {
    event: "pending",
    availabilityNote: selectedTimes
  };

  const formatted = selectedTimes.map(t => `<li>${t}</li>`).join("");

  document.getElementById('final-summary').innerHTML = `
    <p><strong>🕒 Please review your selected availability before submitting:</strong></p>
    <ul>${formatted}</ul>
    <p>Click “Submit” below and we’ll follow up to schedule your session based on your availability.</p>
  `;

  document.getElementById('slots-box').classList.add('hidden');
  document.getElementById('custom-time-box').style.display = 'none';
  document.getElementById('final-confirmation-panel').style.display = 'block';
}



function submitPendingRegistration() {
  const email = document.getElementById('email').value;
  const payload = {
    email: email,
    event: "pending",
    customAvailability: window.customEventData.availabilityNote.join(", "),
    submitted: true
  };

  fetch("/register_student", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(payload)
  }).then(response => {
    if (response.ok) {
      document.getElementById('final-confirmation-panel').style.display = 'none';
      document.getElementById('final-box-custom').classList.remove('hidden');

    } else {
      alert("Something went wrong. Please try again.");
    }
  });
}

function toggleCustomSlot(el) {
  el.classList.toggle('selected');
}


function finalizeMultiSlotSelection() {
  const selectedEls = document.querySelectorAll('.slots-box .time-slot.selected');
  if (selectedEls.length === 0) {
    alert("Please select at least one time slot.");
    return;
  }

  const selectedSlots = Array.from(selectedEls).map(el => {
    const dayText = el.closest('.day-card').querySelector('h4').innerText;
    return `${dayText} at ${el.innerText}`;
  });

  localStorage.setItem("selected_slot", selectedSlots.join(", "));

  // Go to confirmation step
  document.getElementById('slots-box').classList.add('hidden');
  document.getElementById('eligibility-success').classList.add('hidden');
  document.getElementById('selected-slot-info').innerText = selectedSlots.join(", ");
  document.getElementById('notify-email').innerText = localStorage.getItem("student_email");
  document.getElementById('confirm-box').classList.remove('hidden');
}


function selectSlot(el) {
  el.classList.toggle('selected');
}
</script>

<script>
function showLevel(level) {
  document.querySelectorAll('.abstraction-level').forEach(div => {
    div.classList.remove('active');
  });
  document.getElementById(level).classList.add('active');

  document.getElementById('summaryBtn').classList.toggle('active', level === 'summary');
  document.getElementById('detailedBtn').classList.toggle('active', level === 'detailed');
}
</script>

<script>
function switchView(view) {
  const summaryTab = document.getElementById("summaryTab");
  const detailedTab = document.getElementById("detailedTab");
  const summaryView = document.getElementById("summaryView");
  const detailedView = document.getElementById("detailedView");

  const isSummary = view === 'summary';
  summaryTab.classList.toggle('active', isSummary);
  detailedTab.classList.toggle('active', !isSummary);
  summaryView.style.display = isSummary ? 'flex' : 'none';
  detailedView.style.display = isSummary ? 'none' : 'flex';
}
</script>
<script>
function toggleView(isDetailed) {
  const summary = document.getElementById('summaryView');
  const detailed = document.getElementById('detailedView');

  // Hide both first
  summary.classList.remove('active');
  detailed.classList.remove('active');
  summary.style.display = 'none';
  detailed.style.display = 'none';

  // Use timeout to allow display to reset before fade-in
  setTimeout(() => {
    if (isDetailed) {
      detailed.style.display = 'flex';
      detailed.classList.add('active');
    } else {
      summary.style.display = 'flex';
      summary.classList.add('active');
    }
  }, 10);
}
</script>


<footer style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #ccc; text-align: center; font-size: 14px; color: #666;">
    Please contact us if you have any questions or issues: <a href="mailto:ea442@njit.edu">ea442@njit.edu</a>
</footer>
</body>
</html>
